{"version":3,"file":"index.js","sources":["../../integration-utils/dist/index.mjs","../src/utils.ts","../src/SvgImage.ts","../src/SvgIcon.ts"],"sourcesContent":["function e(e,t){if(t!=null&&typeof Symbol!==\"undefined\"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}function t(e){\"@swc/helpers - typeof\";return e&&typeof Symbol!==\"undefined\"&&e.constructor===Symbol?\"symbol\":typeof e}var r=Object.create;var n=Object.defineProperty;var i=Object.getOwnPropertyDescriptor;var o=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var a=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}};var s=function(e,r,f,a){var s=true,c=false,l=undefined;if(r&&(typeof r===\"undefined\"?\"undefined\":t(r))==\"object\"||typeof r==\"function\")try{var d=function(){var t=p.value;!u.call(e,t)&&t!==f&&n(e,t,{get:function(){return r[t]},enumerable:!(a=i(r,t))||a.enumerable})};for(var h=o(r)[Symbol.iterator](),p;!(s=(p=h.next()).done);s=true)d()}catch(e){c=true;l=e}finally{try{if(!s&&h.return!=null){h.return()}}finally{if(c){throw l}}}return e};var c=function(e,t,i){return i=e!=null?r(f(e)):{},s(t||!e||!e.__esModule?n(i,\"default\",{value:e,enumerable:!0}):i,e)};var l=a(function(e,t){\"use strict\";var r=function e(e,t,r){var n,i,o,f,u;t==null&&(t=100);function a(){var s=Date.now()-f;s<t&&s>=0?n=setTimeout(a,t-s):(n=null,r||(u=e.apply(o,i),o=i=null))}var s=function s(){o=this,i=arguments,f=Date.now();var s=r&&!n;return n||(n=setTimeout(a,t)),s&&(u=e.apply(o,i),o=i=null),u};return s.clear=function(){n&&(clearTimeout(n),n=null)},s.flush=function(){n&&(u=e.apply(o,i),o=i=null,clearTimeout(n),n=null)},s};r.debounce=r;t.exports=r});var d=a(function(r,n){\"use strict\";(function(){var r;function i(t,n){var o=e(this,i)?this:r;if(o.reset(n),typeof t==\"string\"&&t.length>0&&o.hash(t),o!==this)return o}i.prototype.hash=function(e){var t,r,n,i,o;switch(o=e.length,this.len+=o,r=this.k1,n=0,this.rem){case 0:r^=o>n?e.charCodeAt(n++)&65535:0;case 1:r^=o>n?(e.charCodeAt(n++)&65535)<<8:0;case 2:r^=o>n?(e.charCodeAt(n++)&65535)<<16:0;case 3:r^=o>n?(e.charCodeAt(n)&255)<<24:0,r^=o>n?(e.charCodeAt(n++)&65280)>>8:0}if(this.rem=o+this.rem&3,o-=this.rem,o>0){for(t=this.h1;r=r*11601+(r&65535)*0xcc9e0000&0xffffffff,r=r<<15|r>>>17,r=r*13715+(r&65535)*0x1b870000&0xffffffff,t^=r,t=t<<13|t>>>19,t=t*5+0xe6546b64&0xffffffff,!(n>=o);)r=e.charCodeAt(n++)&65535^(e.charCodeAt(n++)&65535)<<8^(e.charCodeAt(n++)&65535)<<16,i=e.charCodeAt(n++),r^=(i&255)<<24^(i&65280)>>8;switch(r=0,this.rem){case 3:r^=(e.charCodeAt(n+2)&65535)<<16;case 2:r^=(e.charCodeAt(n+1)&65535)<<8;case 1:r^=e.charCodeAt(n)&65535}this.h1=t}return this.k1=r,this},i.prototype.result=function(){var e,t;return e=this.k1,t=this.h1,e>0&&(e=e*11601+(e&65535)*0xcc9e0000&0xffffffff,e=e<<15|e>>>17,e=e*13715+(e&65535)*0x1b870000&0xffffffff,t^=e),t^=this.len,t^=t>>>16,t=t*51819+(t&65535)*0x85eb0000&0xffffffff,t^=t>>>13,t=t*44597+(t&65535)*0xc2b20000&0xffffffff,t^=t>>>16,t>>>0},i.prototype.reset=function(e){return this.h1=typeof e==\"number\"?e:0,this.rem=this.k1=this.len=0,this},r=new i,(typeof n===\"undefined\"?\"undefined\":t(n))<\"u\"?n.exports=i:this.MurmurHash3=i})()});var h=c(l()),p=c(d()),v=\"svg-symbols\",y=\"svg-\",m=\"data-count\";function b(e,r){if((typeof window===\"undefined\"?\"undefined\":t(window))>\"u\"||e===r)return{};var n=document.getElementById(v);if(n||(n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),n.id=v,n.setAttribute(\"aria-hidden\",\"true\"),n.setAttribute(\"style\",\"position:fixed;top:-99999px;left:-99999px;z-index:0;opacity:0;\"),document.body.appendChild(n)),e){var i=y+new p.default(e).result();g(document.getElementById(i))}var o=y+new p.default(r).result(),f=document.getElementById(o);if(f)return f.setAttribute(m,C(f)+1+\"\"),{id:o,attrs:S(f)};var u=new DOMParser().parseFromString(r,\"application/xml\").firstElementChild;if(u===null||u===void 0?void 0:u.querySelector(\"parsererror\"))return console.error(\"Provided source code is not a valid SVG: \"+r),{id:o};if(!u)return console.error(\"Missing child in SVG: \"+r),{id:o};var a=document.createElementNS(\"http://www.w3.org/2000/svg\",\"symbol\");for(var s=0;s<u.attributes.length;s++){var c=u.attributes[s];a.setAttribute(c.name,c.value)}for(a.id=o,a.setAttribute(m,\"1\");u.children.length;)a.appendChild(u.children[0]);return n.appendChild(a),{id:o,attrs:S(a)}}function w(e){!e||(typeof window===\"undefined\"?\"undefined\":t(window))>\"u\"||g(typeof e==\"string\"?document.getElementById(e):e)}function g(e){if(!e)return;var t=C(e,1)-1;e.setAttribute(m,t+\"\"),t<=0&&(x.push(e),A())}var x=[],A=(0,h.default)(function(){for(var e=x.length-1;e>=0;e--){var t=x[e];t.parentElement&&C(t)<=0&&t.parentElement.removeChild(t),x.pop()}},5e3);function C(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;var r=parseInt(e.getAttribute(m)||\"1\");return isNaN(r)?t:r}function S(e){var t=e.getAttribute(\"viewBox\")||\"\";if(!t)for(var r=0,n=[\"x\",\"y\",\"width\",\"height\"];r<n.length;r++){var i=n[r];var o=e.getAttribute(i);t+=(o||\"0\")+\" \"}return{viewBox:t,width:\"100%\",height:\"100%\"}}export{v as SVG_ID,y as SYMBOL_ID_PREFIX,m as USAGES_COUNT_ATTR,b as onSrcUpdate,w as onUnmount};/*! Bundled license information:\n\nimurmurhash/imurmurhash.js:\n  (**\n   * @preserve\n   * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)\n   *\n   * @author <a href=\"mailto:jensyt@gmail.com\">Jens Taylor</a>\n   * @see http://github.com/homebrewing/brauhaus-diff\n   * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n   * @see http://github.com/garycourt/murmurhash-js\n   * @author <a href=\"mailto:aappleby@gmail.com\">Austin Appleby</a>\n   * @see http://sites.google.com/site/murmurhash/\n   *)\n*///# sourceMappingURL=index.mjs.map","export type ElementOrSelector = Element | string;\n\n/**\n * Appends given element to the given container\n * @param el Element to append\n * @param to Container\n * @returns Container\n */\nexport function mount(el: Element, to: ElementOrSelector) {\n  const container = typeof to === \"string\" ? document.querySelector(to) : to;\n\n  if (!container) {\n    console.error(`No elements found for selector \"${to}\"`);\n    return;\n  }\n\n  container.appendChild(el);\n  return container;\n}\n\nconst IGNORE_ATTRS: Record<string, true> = {\n  id: true,\n  class: true,\n  style: true,\n};\n\n/**\n * Sets attributes of an element\n * @param el Element to set attributes of\n * @param attrs Attributes object\n * @param clear If `true`, all element attributes will be cleared\n */\nexport function setAttrs(el: Element, attrs: Record<string, any>, clear = false) {\n  if (clear) {\n    // Copy attrs because el.removeAttribute() will break iteration order\n    const attrsCopy: string[] = [];\n\n    for (const attr of el.attributes) {\n      if (!IGNORE_ATTRS[attr.name]) {\n        attrsCopy.push(attr.name);\n      }\n    }\n\n    for (const attr of attrsCopy) {\n      el.removeAttribute(attr);\n    }\n  }\n\n  for (const attr in attrs) {\n    el.setAttribute(attr, attrs[attr]);\n  }\n}\n\n/**\n * Sets style properties, works with CSS variables\n * @param el Element to set property of\n * @param prop Property to set, for example: `minHeight`, `--my-var`\n * @param value Value of a property\n */\nexport function setStyleProperty(el: HTMLElement, prop: string, value: string | undefined) {\n  if (value) {\n    if (el.style[prop as any] !== undefined) {\n      el.style[prop as any] = value;\n    } else {\n      el.style.setProperty(prop, value);\n    }\n  } else {\n    if (el.style[prop as any] !== undefined) {\n      el.style[prop as any] = \"\";\n    } else {\n      el.style.removeProperty(prop);\n    }\n  }\n}\n","import { onSrcUpdate, onUnmount } from \"integration-utils\";\nimport { ElementOrSelector, mount, setAttrs } from \"./utils\";\n\n/**\n * Basic SVG image. Implements SVG sprites.\n *\n * Will create `<svg>` element that contains all symbols, add passed source code to it and reuse it later.\n *\n * ### Basic usage\n *\n * ```ts\n * import imageSrc from \"./path/to/image.svg\";\n * import anotherImageSrc from \"./path/to/another/image.svg\";\n * import { SvgImage } from \"vite-awesome-svg-loader/vanilla-integration\";\n *\n * const container = document.createElement(\"div\"); // Where to mount SVG\n * const image = new SvgImage(imageSrc, container); // Create image and mount it to the container\n * image.setSvgElAttrs({ id: \"my-svg-symbol\" }); // Change <svg> element attributes\n * image.setUseElAttrs({ className: \"my-svg-symbol-use-el\" }); // Change <use> element attributes\n * image.setSrc(anotherImageSrc); // Change SVG source code\n * console.log(image.getSrc()); // Get and print image source code\n * console.log(image.getContainer()); // Get and print image container\n * console.log(image.getSvgEl()); // Get and print image <svg> element\n * console.log(image.getUseEl()); // Get and print image <use> element\n * image.unmount(); // Remove image from the container\n *\n * // All operations are chainable, so you can do this:\n *\n * const image2 = new SvgImage(imageSrc)\n *   .mount(container)\n *   .setSvgElAttrs({ id: \"my-svg-symbol\" })\n *   .setUseElAttrs({ className: \"my-svg-symbol-use-el\" });\n * ```\n *\n * ### Internal API\n *\n * You can use this API to extend `SvgImage`.\n *\n * Use `constructor()` and {@link SvgImage#mount} to change component markup.\n *\n * Use {@link SvgImage._updateSvgBeforeUserAttrsSet},\n * {@link SvgImage._updateSvgAfterUserAttrsSet},\n * {@link SvgImage._updateUseElBeforeUserAttrsSet},\n * {@link SvgImage._updateUseElAfterUserAttrsSet} hooks to set custom elements attributes.\n *\n * You probably don't need to override required element's attributes. If you actually need to do so, override\n * {@link SvgImage._updateSvgEl}\n *\n * @param src SVG source code\n * @param mountTo Element or selector of an element to mount image to. If not provided, image won't be mounted.\n */\nexport class SvgImage {\n  /**\n   * User-provided source code\n   */\n  protected _src: string | undefined;\n\n  protected _container: Element | undefined;\n  protected readonly _svgEl: SVGElement;\n  protected readonly _useEl: SVGUseElement;\n\n  /**\n   * User-provided attributes\n   */\n  protected _svgAttrs: Record<string, any> = {};\n\n  /**\n   * User-provided attributes\n   */\n  protected _useElAttrs: Record<string, any> = {};\n\n  /**\n   * Last src update result\n   */\n  protected _updateSrcRes: ReturnType<typeof onSrcUpdate> = {};\n\n  constructor(src: string, mountTo?: ElementOrSelector) {\n    this._svgEl = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    this._useEl = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n    this._svgEl.appendChild(this._useEl);\n\n    this.setSrc(src);\n\n    if (mountTo) {\n      this.mount(mountTo);\n    }\n  }\n\n  /**\n   * Mounts image to the given element\n   * @param to Element or selector of an element to mount image to\n   * @returns this\n   */\n  mount(to: ElementOrSelector) {\n    this._container = mount(this._svgEl, to);\n    return this;\n  }\n\n  /**\n   * Removes image from the container\n   * @returns this\n   */\n  unmount() {\n    this._svgEl.parentElement?.removeChild(this._svgEl);\n    this._container = undefined;\n    onUnmount(this._updateSrcRes.id);\n    return this;\n  }\n\n  /**\n   * Sets `<svg>` element attributes. It won't remove id, class and style.\n   * @param attrs Attributes to set\n   * @returns this\n   */\n  setSvgElAttrs(attrs: Record<string, any>) {\n    this._svgAttrs = attrs;\n    return this._updateSvgEl();\n  }\n\n  /**\n   * Updates SVG element: sets SVG source code, clears previous attributes, sets new attributes\n   * @returns this\n   */\n  protected _updateSvgEl() {\n    setAttrs(this._svgEl, { alt: \"\" }, true);\n    this._updateSvgBeforeUserAttrsSet();\n    setAttrs(this._svgEl, this._svgAttrs);\n    this._updateSvgAfterUserAttrsSet();\n\n    if (this._updateSrcRes.attrs) {\n      setAttrs(this._svgEl, this._updateSrcRes.attrs);\n    }\n\n    return this;\n  }\n\n  /**\n   * Called before user-provided attributes are set. You can use this function to set custom SVG element attributes.\n   */\n  protected _updateSvgBeforeUserAttrsSet() {};\n\n  /**\n   * Called after user-provided attributes are set. You can use this function to set custom SVG element attributes.\n   */\n  protected _updateSvgAfterUserAttrsSet() {};\n\n  /**\n   * Sets `<use>` element attributes. It won't remove id, class and style.\n   * @param attrs Attributes to set\n   * @returns this\n   */\n  setUseElAttrs(attrs: Record<string, any>) {\n    this._useElAttrs = attrs;\n    return this._updateUseEl();\n  }\n\n  /**\n   * Updates `<use>` element attributes\n   * @returns this\n   */\n  protected _updateUseEl() {\n    setAttrs(this._useEl, {}, true);\n    this._updateUseElBeforeUserAttrsSet();\n    setAttrs(this._useEl, this._useElAttrs);\n    this._updateUseElAfterUserAttrsSet();\n\n    if (this._updateSrcRes.id) {\n      setAttrs(this._useEl, { href: \"#\" + this._updateSrcRes.id });\n    }\n\n    return this;\n  }\n\n  /**\n   * Called before user-provided attributes are set. You can use this function to set custom `<use>` element attributes.\n   */\n  protected _updateUseElBeforeUserAttrsSet() {};\n\n  /**\n   * Called after user-provided attributes are set. You can use this function to set custom `<use>` element attributes.\n   */\n  protected _updateUseElAfterUserAttrsSet() {};\n\n  /**\n   * Sets SVG source code\n   * @param src SVG source code\n   * @returns this\n   */\n  setSrc(src: string) {\n    this._updateSrcRes = onSrcUpdate(this._src, src);\n    this._src = src;\n    this._updateSvgEl();\n    this._updateUseEl();\n    return this;\n  }\n\n  /**\n   * @returns SVG source code\n   */\n  getSrc() {\n    return this._src;\n  }\n\n  /**\n   * @returns A container of this image, or `undefined`, if image is not mounted\n   */\n  getContainer() {\n    return this._container;\n  }\n\n  /**\n   * Returns `<svg>` element.\n   *\n   * To assign attributes, use {@link setSvgElAttrs} instead.\n   *\n   * @returns `<svg>` element\n   */\n  getSvgEl() {\n    return this._svgEl;\n  }\n\n  /**\n   * Returns `<use>` element.\n   *\n   * To assign attributes, use {@link setSvgElAttrs} instead.\n   *\n   * @returns `<use>` element\n   */\n  getUseEl() {\n    return this._useEl;\n  }\n}\n","import { onUnmount } from \"integration-utils\";\nimport { SvgImage } from \"./SvgImage\";\nimport { ElementOrSelector, mount, setAttrs, setStyleProperty } from \"./utils\";\n\nconst DEFAULT_COLOR_TRANSITION = \"0.3s linear\";\n\n/**\n * Basic SVG icon, extends {@link SvgImage}.\n *\n * Usage:\n *\n * ```ts\n * import iconSrc from \"./path/to/icon.svg\";\n *\n * const icon = new SvgIcon(iconSrc, \".my-container\") // Create and mount icon\n *   .setContainerAttrs({ title: \"My icon\" }) // Set container attributes\n *   .setColor(\"red\") // Set icon color to red\n *   .setColorTransition(\"0.2s ease-out\"); // Change icon color transition\n * ```\n *\n * ### Internal API\n *\n * You can use this API to extend `SvgIcon`. This API is the same as in {@link SvgImage}, but with additional methods.\n *\n * Use {@link SvgIcon._updateWrapperBeforeUserAttrsSet}, {@link SvgIcon._updateWrapperAfterUserAttrsSet} to set custom\n * wrapper (`<span>`) attributes.\n *\n * {@link SvgIcon._updateSvgBeforeUserAttrsSet} should call `super._updateSvgBeforeUserAttrsSet()`.\n */\nexport class SvgIcon extends SvgImage {\n  protected _span: HTMLSpanElement;\n  protected _size: string | undefined;\n  protected _color: string | undefined;\n  protected _colorTransition: string | undefined;\n\n  constructor(src: string, mountTo?: ElementOrSelector) {\n    super(src);\n    this._span = document.createElement(\"span\");\n    this._setWrapperClass();\n    this._span.appendChild(this._svgEl);\n    this.setColorTransition();\n\n    if (mountTo) {\n      this.mount(mountTo);\n    }\n  }\n\n  mount(to: ElementOrSelector): this {\n    this._container = mount(this._span, to);\n    return this;\n  }\n\n  unmount(): this {\n    this._span.parentElement?.removeChild(this._span);\n    this._container = undefined;\n    onUnmount(this._updateSrcRes.id);\n    return this;\n  }\n\n  protected _updateSvgBeforeUserAttrsSet(): void {\n    setAttrs(this._svgEl, { \"aria-hidden\": \"true\" });\n  }\n\n  /**\n   * Sets wrapper (`<span>`) element attributes.\n   *\n   * **Warning**: you can't change class, size, color and color transition using this method\n   *\n   * @param attrs Attributes to set\n   * @returns this\n   */\n  setWrapperAttrs(attrs: Record<string, any>) {\n    setAttrs(this._span, {}, true);\n\n    this._updateWrapperBeforeUserAttrsSet();\n    setAttrs(this._span, attrs);\n    this._updateWrapperAfterUserAttrsSet();\n\n    this.setSize(this._size);\n    this.setColor(this._color);\n    this.setColorTransition(this._colorTransition);\n    this._setWrapperClass();\n    return this;\n  }\n\n  /**\n   * Called before user-provided attributes are set. You can use this function to set custom wrapper (`<span>`) attributes.\n   */\n  protected _updateWrapperBeforeUserAttrsSet() {};\n\n  /**\n   * Called after user-provided attributes are set. You can use this function to set custom wrapper (`<span>`) attributes.\n   */\n  protected _updateWrapperAfterUserAttrsSet() {};\n\n  protected _setWrapperClass() {\n    this._span.classList.add(\"awesome-svg-loader-icon\", \"icon\");\n  }\n\n  /**\n   * @returns Wrapper (`<span>`) element\n   */\n  getWrapper() {\n    return this._span;\n  }\n\n  /**\n   * Sets icon size. Empty string or `undefined` unsets size.\n   * @param size Size to set, for example: `\"24px\"`, `\"1rem\"`\n   * @returns this\n   */\n  setSize(size: string | undefined) {\n    this._size = size;\n\n    for (const prop of [\"width\", \"minWidth\", \"maxWidth\", \"height\", \"minHeight\", \"maxHeight\"]) {\n      setStyleProperty(this._span, prop, this._size);\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Current icon size or empty string, if size is unset\n   */\n  getSize() {\n    return this._size || \"\";\n  }\n\n  /**\n   * Sets icon color. Empty string or `undefined` unsets color.\n   * @param color  Color to set, for example: `\"red\"`, `\"var(--icon-color)\"`.\n   * @returns this\n   */\n  setColor(color: string | undefined) {\n    this._color = color;\n    setStyleProperty(this._span, \"--icon-color\", color);\n    return this;\n  }\n\n  /**\n   * @returns Current icon color or empty string, if color is unset\n   */\n  getColor() {\n    return this._color || \"\";\n  }\n\n  /**\n   * Sets icon color transition. This transition is applied when icon color is changed.\n   * @param transition Transition to set, for example: `\"0.3s linear\"`, `\"var(--icon-transition)\"`\n   * @returns this\n   */\n  setColorTransition(transition = DEFAULT_COLOR_TRANSITION) {\n    this._colorTransition = transition;\n    setStyleProperty(this._span, \"--icon-transition\", transition);\n    return this;\n  }\n\n  /**\n   * @returns Current icon color transition or empty string, if transition is unset\n   */\n  getColorTransition() {\n    return this._colorTransition || \"\";\n  }\n}\n"],"names":["e","t","r","n","i","o","f","u","a","s","c","l","d","p","h","v","y","m","b","g","C","S","w","x","A","mount","el","to","container","IGNORE_ATTRS","setAttrs","attrs","clear","attrsCopy","attr","setStyleProperty","prop","value","SvgImage","src","mountTo","_a","onUnmount","onSrcUpdate","DEFAULT_COLOR_TRANSITION","SvgIcon","size","color","transition"],"mappings":"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"}